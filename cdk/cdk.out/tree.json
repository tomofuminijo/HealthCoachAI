{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.232.2"},"children":{"Healthmate-CoachAI-Stack":{"id":"Healthmate-CoachAI-Stack","path":"Healthmate-CoachAI-Stack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.232.2"},"children":{"HealthmateCoachAIExecutionRole":{"id":"HealthmateCoachAIExecutionRole","path":"Healthmate-CoachAI-Stack/HealthmateCoachAIExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.2","metadata":[]},"children":{"ImportHealthmateCoachAIExecutionRole":{"id":"ImportHealthmateCoachAIExecutionRole","path":"Healthmate-CoachAI-Stack/HealthmateCoachAIExecutionRole/ImportHealthmateCoachAIExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.2","metadata":[]}},"Resource":{"id":"Resource","path":"Healthmate-CoachAI-Stack/HealthmateCoachAIExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"bedrock-agentcore.amazonaws.com"}}],"Version":"2012-10-17"},"description":"Healthmate-CoachAI AgentCore Runtime Role (CDK Managed)","maxSessionDuration":3600,"roleName":"Healthmate-CoachAI-AgentCore-Runtime-Role-CDK"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"Healthmate-CoachAI-Stack/HealthmateCoachAIExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.2","metadata":[]},"children":{"Resource":{"id":"Resource","path":"Healthmate-CoachAI-Stack/HealthmateCoachAIExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock-agentcore:*","bedrock:GetFoundationModel","bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream","bedrock:ListFoundationModels","ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetAuthorizationToken","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":"*"},{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:DescribeLogGroups","logs:DescribeLogStreams","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:logs:us-west-2:",{"Ref":"AWS::AccountId"},":log-group:/aws/bedrock/agentcore/healthmate-coach-ai*"]]}},{"Action":["cloudformation:DescribeStackResources","cloudformation:DescribeStacks"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:cloudformation:us-west-2:",{"Ref":"AWS::AccountId"},":stack/Healthmate-HealthManagerStack/*"]]}}],"Version":"2012-10-17"},"policyName":"HealthmateCoachAIExecutionRoleDefaultPolicy0570A5D4","roles":[{"Ref":"HealthmateCoachAIExecutionRole83206A41"}]}}}}}}},"HealthmateCoachAIRepository":{"id":"HealthmateCoachAIRepository","path":"Healthmate-CoachAI-Stack/HealthmateCoachAIRepository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.Repository","version":"2.232.2","metadata":[]},"children":{"Resource":{"id":"Resource","path":"Healthmate-CoachAI-Stack/HealthmateCoachAIRepository/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.CfnRepository","version":"2.232.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECR::Repository","aws:cdk:cloudformation:props":{"imageScanningConfiguration":{"scanOnPush":true},"lifecyclePolicy":{"lifecyclePolicyText":"{\"rules\":[{\"rulePriority\":1,\"description\":\"Keep only the latest 10 images\",\"selection\":{\"tagStatus\":\"any\",\"countType\":\"imageCountMoreThan\",\"countNumber\":10},\"action\":{\"type\":\"expire\"}}]}"},"repositoryName":"healthmate-coach-ai"}}}}},"HealthmateCoachAICodeBuildRole":{"id":"HealthmateCoachAICodeBuildRole","path":"Healthmate-CoachAI-Stack/HealthmateCoachAICodeBuildRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.232.2","metadata":[]},"children":{"ImportHealthmateCoachAICodeBuildRole":{"id":"ImportHealthmateCoachAICodeBuildRole","path":"Healthmate-CoachAI-Stack/HealthmateCoachAICodeBuildRole/ImportHealthmateCoachAICodeBuildRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.232.2","metadata":[]}},"Resource":{"id":"Resource","path":"Healthmate-CoachAI-Stack/HealthmateCoachAICodeBuildRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.232.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"},"description":"Healthmate-CoachAI CodeBuild Role (CDK Managed)","roleName":"Healthmate-CoachAI-CodeBuild-Role-CDK"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"Healthmate-CoachAI-Stack/HealthmateCoachAICodeBuildRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.232.2","metadata":[]},"children":{"Resource":{"id":"Resource","path":"Healthmate-CoachAI-Stack/HealthmateCoachAICodeBuildRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.232.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:logs:us-west-2:",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/",{"Ref":"HealthmateCoachAIBuildProjectA908018B"},":*"]]},{"Fn::Join":["",["arn:aws:logs:us-west-2:",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/",{"Ref":"HealthmateCoachAIBuildProjectA908018B"}]]},{"Fn::Join":["",["arn:aws:logs:us-west-2:",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/healthmate-coach-ai-build*"]]}]},{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:CompleteLayerUpload","ecr:GetAuthorizationToken","ecr:GetDownloadUrlForLayer","ecr:InitiateLayerUpload","ecr:PutImage","ecr:UploadLayerPart"],"Effect":"Allow","Resource":"*"},{"Action":["s3:GetObject","s3:GetObjectVersion","s3:PutObject"],"Effect":"Allow","Resource":"arn:aws:s3:::codepipeline-*"},{"Action":["codebuild:BatchPutCodeCoverages","codebuild:BatchPutTestCases","codebuild:CreateReport","codebuild:CreateReportGroup","codebuild:UpdateReport"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:codebuild:us-west-2:",{"Ref":"AWS::AccountId"},":report-group/",{"Ref":"HealthmateCoachAIBuildProjectA908018B"},"-*"]]}}],"Version":"2012-10-17"},"policyName":"HealthmateCoachAICodeBuildRoleDefaultPolicyCB7F03B4","roles":[{"Ref":"HealthmateCoachAICodeBuildRoleA081BF26"}]}}}}}}},"HealthmateCoachAIBuildProject":{"id":"HealthmateCoachAIBuildProject","path":"Healthmate-CoachAI-Stack/HealthmateCoachAIBuildProject","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.Project","version":"2.232.2","metadata":[]},"children":{"Resource":{"id":"Resource","path":"Healthmate-CoachAI-Stack/HealthmateCoachAIBuildProject/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.CfnProject","version":"2.232.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodeBuild::Project","aws:cdk:cloudformation:props":{"artifacts":{"type":"NO_ARTIFACTS"},"cache":{"type":"NO_CACHE"},"description":"Healthmate-CoachAI Container Build Project","encryptionKey":"alias/aws/s3","environment":{"type":"LINUX_CONTAINER","image":"aws/codebuild/standard:7.0","imagePullCredentialsType":"CODEBUILD","privilegedMode":true,"computeType":"BUILD_GENERAL1_SMALL"},"name":"healthmate-coach-ai-build","serviceRole":{"Fn::GetAtt":["HealthmateCoachAICodeBuildRoleA081BF26","Arn"]},"source":{"type":"GITHUB","reportBuildStatus":true,"location":"https://github.com/your-github-username/healthmate-coach-ai.git","buildSpec":{"Fn::Join":["",["{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"pre_build\": {\n      \"commands\": [\n        \"echo Logging in to Amazon ECR...\",\n        \"aws ecr get-login-password --region $AWS_DEFAULT_REGION | docker login --username AWS --password-stdin $AWS_ACCOUNT_ID.dkr.ecr.$AWS_DEFAULT_REGION.amazonaws.com\"\n      ]\n    },\n    \"build\": {\n      \"commands\": [\n        \"echo Build started on `date`\",\n        \"echo Building the Docker image...\",\n        \"docker build -t healthmate-coach-ai .\",\n        \"docker tag healthmate-coach-ai:latest $AWS_ACCOUNT_ID.dkr.ecr.$AWS_DEFAULT_REGION.amazonaws.com/healthmate-coach-ai:latest\"\n      ]\n    },\n    \"post_build\": {\n      \"commands\": [\n        \"echo Build completed on `date`\",\n        \"echo Pushing the Docker image...\",\n        \"docker push $AWS_ACCOUNT_ID.dkr.ecr.$AWS_DEFAULT_REGION.amazonaws.com/healthmate-coach-ai:latest\"\n      ]\n    }\n  },\n  \"env\": {\n    \"variables\": {\n      \"AWS_DEFAULT_REGION\": \"us-west-2\",\n      \"AWS_ACCOUNT_ID\": \"",{"Ref":"AWS::AccountId"},"\",\n      \"IMAGE_REPO_NAME\": \"healthmate-coach-ai\",\n      \"IMAGE_TAG\": \"latest\"\n    }\n  }\n}"]]}},"timeoutInMinutes":30,"triggers":{"webhook":false}}}}}},"HealthmateCoachAILogGroup":{"id":"HealthmateCoachAILogGroup","path":"Healthmate-CoachAI-Stack/HealthmateCoachAILogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.232.2","metadata":[]},"children":{"Resource":{"id":"Resource","path":"Healthmate-CoachAI-Stack/HealthmateCoachAILogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.232.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/bedrock/agentcore/healthmate-coach-ai","retentionInDays":30}}}}},"HealthmateCoachAIMemory":{"id":"HealthmateCoachAIMemory","path":"Healthmate-CoachAI-Stack/HealthmateCoachAIMemory","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrockagentcore.CfnMemory","version":"2.232.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::BedrockAgentCore::Memory","aws:cdk:cloudformation:props":{"description":"Healthmate-CoachAI AgentCore Memory for conversation history (STM_ONLY mode)","eventExpiryDuration":30,"name":"healthmatecoachaimemory"}}},"StackName":{"id":"StackName","path":"Healthmate-CoachAI-Stack/StackName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.2"}},"Region":{"id":"Region","path":"Healthmate-CoachAI-Stack/Region","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.2"}},"Account":{"id":"Account","path":"Healthmate-CoachAI-Stack/Account","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.2"}},"AgentName":{"id":"AgentName","path":"Healthmate-CoachAI-Stack/AgentName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.2"}},"Environment":{"id":"Environment","path":"Healthmate-CoachAI-Stack/Environment","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.2"}},"ExecutionRoleArn":{"id":"ExecutionRoleArn","path":"Healthmate-CoachAI-Stack/ExecutionRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.2"}},"ExecutionRoleName":{"id":"ExecutionRoleName","path":"Healthmate-CoachAI-Stack/ExecutionRoleName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.2"}},"MemoryArn":{"id":"MemoryArn","path":"Healthmate-CoachAI-Stack/MemoryArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.2"}},"MemoryId":{"id":"MemoryId","path":"Healthmate-CoachAI-Stack/MemoryId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.2"}},"MemoryName":{"id":"MemoryName","path":"Healthmate-CoachAI-Stack/MemoryName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.2"}},"ECRRepositoryUri":{"id":"ECRRepositoryUri","path":"Healthmate-CoachAI-Stack/ECRRepositoryUri","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.2"}},"ECRRepositoryName":{"id":"ECRRepositoryName","path":"Healthmate-CoachAI-Stack/ECRRepositoryName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.2"}},"CodeBuildProjectName":{"id":"CodeBuildProjectName","path":"Healthmate-CoachAI-Stack/CodeBuildProjectName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.2"}},"CodeBuildProjectArn":{"id":"CodeBuildProjectArn","path":"Healthmate-CoachAI-Stack/CodeBuildProjectArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.2"}},"LogGroupName":{"id":"LogGroupName","path":"Healthmate-CoachAI-Stack/LogGroupName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.2"}},"LogGroupArn":{"id":"LogGroupArn","path":"Healthmate-CoachAI-Stack/LogGroupArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.232.2"}},"CDKMetadata":{"id":"CDKMetadata","path":"Healthmate-CoachAI-Stack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"},"children":{"Default":{"id":"Default","path":"Healthmate-CoachAI-Stack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.232.2"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"Healthmate-CoachAI-Stack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.232.2"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"Healthmate-CoachAI-Stack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.232.2"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"}}}}}